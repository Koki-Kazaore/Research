% 第3章
\section{CtoCシェアサイクルのサービス設計とビジネスモデル(\textcolor{orange}{40\%})}
  \label{sec:CtoCシェアサイクルのサービス設計とビジネスモデル}
      
  \subsection{サービス設計(0\%)}
    \label{sec:サービス設計}
      \par $\Box$ ユーザーエクスペリエンス（UX）の設計
      \par $\Box$ 自転車の管理と運用フロー
      \par $\Box$ スマートロックの役割と機能設計
      \par $\Box$ マイクロサービスの設計
  
  \subsection{コア技術の活用(\textcolor{green}{100\%})}
    \label{sec:コア技術の活用}
      \par 本節では，本研究を通して活用しているコアな技術について紹介する．
      \par まず，スマートロックに関連する技術について紹介する．これは，大きなくくりではIoT技術と言える．その構成要素として主に，ハードウェア，セキュリティ，及び通信プロトロコルが挙げられる．
      \par ハードウェアでは，ロックの施錠・解錠を自動化するための小型電動モータであるサーボモータや，ロックを解錠するトリガーとなる指紋認証センサ，スマートフォンに内蔵されているNFC(Near Field Communication)リーダを利用している．また，それらを統合するめにマイコンを利用している．
      \par このスマートロックは，スマートフォンやサーバなどの外部デバイスと通信して初めて動作することができるため，通信技術の利用も避けては通れない．本研究におけるスマートロックでは主に，Wi-Fi(Wireless Fidelity)やNFCといった通信技術を利用している．Wi-Fiは無線通信技術の一種であり，電子機器がインターネットやローカルのネットワークに接続するために利用される．NFCはRFID(Radio Frequency Identification)の一種であり，ICタグに対して電波の送受信によって非接触で読み込みや書き込みを可能とする技術である．
      \par 続いて，マッチングアルゴリズムに関連する技術について紹介する．マッチングアルゴリズムは，特定の条件やルールに基づき，複数対象に対して適切な組み合わせを算出する手続きを指し，本研究では，個人所有の自転車とそれを利用するユーザとの間での適切な組み合わせを算出するため，マッチングアルゴリズムを用いている．
      \par このマッチングアルゴリズムで利用されている具体的な技術に，最適化技術としての線形計画法や整数線形計画法，機械学習に関連したレコメンデーションシステムや強化学習などが挙げられる．本研究におけるマッチングアルゴリズムでは，変数として任意の自転車が任意のユーザに割り当てられたか否かを表すバイナリ値を扱うため，全ての変数が整数値を取る整数線形計画法を用いている．
      \par これらのマッチングアルゴリズムやスマートロックを一連のシステムとして利用するためにそれらを統合する必要がある．それを実現するために利用する技術がAPIである．APIはApplication Programing Interfaceの略であり，2つのソフトウェアコンポーネントが一連の定義とプロトコルを使用して相互通信を可能とするメカニズムである\scalebox{0.7}{\cite{WhatIsAnAPI}}．自転車のライドシェア事業を例に挙げると，ユーザの現在地や自転車の位置などのリアルタイムデータを必要とする際に，APIを使用することでこれらのデータを効率的に取得・統合することが可能となる．また，効率的なスケーリングも特徴的であり，ビジネスの成長に合わせてシステムを柔軟に拡張することも可能である．
      \par APIアーキテクチャは原則，リクエストを送信するクライアントと，レスポンスを送信するサーバーの観点から説明される．特にREST(Representational State Transfer)設計原則に従って設計されたAPIをREST APIと呼ぶ．REST APIはクライアントとサーバーの責務を分離することを促進し，コンポーネントの実装を簡素化することに貢献する．ステートレスな通信が行われ，各リクエストはリクエストを理解するために必要な全ての情報を含んでおり，サーバーに保存されるコンテキストを利用することはできない．セッション状態は完全にクライアント側に保持され，これによって可視性や信頼性，スケーラビリティが向上する．可視性は各リクエストを分離して監視できるため，信頼性は部分的な障害からの回復が容易になるため，スケーラビリティはサーバーが以前のリクエストに関する情報を保存する必要がないためそれぞれ向上する\scalebox{0.7}{\cite{fielding2000architectural}}．
      \par これらのAPIを安全に利用するためにはCORS(Cross-Origin Resource Sharing)の設定を適切に行うことが重要である．CORSとは，XMLHttpRequest APIの拡張機能であり，異なるオリジン間でのリソース共有を可能にするメカニズムである\scalebox{0.7}{\cite{10431636}}．なお，XMLHttpRequestとは，ブラウザで動作するスクリプトがサーバとデータをやり取りするためのAPIであり，Webページをリロードすることなくデータの送受信を可能にしているAPIである．しかし，XMLHttpRequestはSOP(Same-Origin Policy)の制約により，原則同一オリジンからのリクエストのみ許可されることになっている．APIを利用するにあたって異なるオリジン間でもデータの送受信を行う必要性からCORSを設定し，ブラウザがクロスオリジンのリクエストを許可するようになる．ただし，設定を誤るとセキュリティ上のリスクが生じる可能性があるため慎重に行うべきである．
      \par さらに，APIを構築する際に利用することができるコンテナ化技術にDockerがある．Dockerは，アプリケーションとその依存関係をコンテナと呼ばれる独立したユニットにパッケージ化し，異なるコンピューティング環境で一貫性を保ちながらソフトウェアを展開するための技術である．この技術によって，軽量で移植可能な環境を提供し，開発環境はもちろんのこと，本番環境までさまざまな段階でアプリケーションの実行を容易にする\scalebox{0.7}{\cite{muzumdar2024navigating}}．大規模なアプリケーションを展開する場合でも，DockerはKubernetesなどのオーケストレーションツールとの連携や，Docker Hubなどのイメージレジストリの利用を通じて容易に展開することができる．ただし，本研究では比較的小規模であり，Kubernetesはオーバースペックであると判断したため利用していない．
      \par Dockerを用いてビルドしたDockerイメージを本番環境で利用するために使われる技術にクラウドコンピューティングがある．クラウドコンピューティングとは，インターネットを介してサービスとして提供されるアプリケーションと，それらのサービスを提供するデータセンタ内のハードウェアおよびシステムソフトウェアの両方を指す\scalebox{0.7}{\cite{armbrust2010view}}．クラウドコンピューティングの具体的なサービスとしてはAWS(Amazon Web Service)やMicrosoft Azure，GCP(Google Cloud Platform)などが挙げられる．本研究ではGCPのサービスの1つで，Dockerイメージを公開できるGCR(Google Container Registry)や，コンテナ化されたアプリケーションを実行するためのサーバーレスコンピューティングサービスであるGoogle Cloud Runなどのクラウドコンピューティングを利用している．
      
  \subsection{ビジネスモデルの構築(0\%)}
    \label{sec:ビジネスモデルの構築}
      \par $\Box$ 収益モデルの検討
      \par $\Box$ コスト構造の分析
      \par $\Box$ 市場分析とターゲットユーザー
      \par $\Box$ 競合分析と差別化戦
